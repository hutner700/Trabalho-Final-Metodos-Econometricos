library("AER")
install.packages('quantmod')
install.packages('TTR')
df_intc <- getSymbols('VALE3.SA',src='yahoo',auto.assign=FALSE)
library('TTR')
library('quantmod')
df_intc <- getSymbols('VALE3.SA',src='yahoo',auto.assign=FALSE)
df_intc
get_close_values_from_papers <- function(PAPER){
df_intc <- getSymbols(PAPER,src='yahoo',auto.assign=FALSE)
df_intc[paste(PAPER,".Close",sep='')]
}3
get_close_values_from_papers <- function(PAPER){
df_intc <- getSymbols(PAPER,src='yahoo',auto.assign=FALSE)
df_intc[paste(PAPER,".Close",sep='')]
}
get_close_values_from_papers <- function(PAPER){
df_intc <- getSymbols(PAPER,src='yahoo',auto.assign=FALSE)
return(df_intc[paste(PAPER,".Close",sep='')])
}
get_close_values_from_papers("VALE3.SA")
print(output)
get_close_values_from_papers <- function(PAPER){
df_intc <- getSymbols(PAPER,src='yahoo',auto.assign=FALSE)
output <- df_intc[paste(PAPER,".Close",sep='')]
print(output)
}
get_close_values_from_papers <- function(PAPER){
df_intc <- getSymbols(PAPER,src='yahoo',auto.assign=FALSE)
output <- df_intc[paste(PAPER,".Close",sep='')]
print(output)
}
get_close_values_from_papers("VALE3.SA")
get_close_values_from_papers <- funct3ion(PAPER){
get_close_values_from_papers <- function(PAPER){
df_intc <- getSymbols(PAPER,src='yahoo',auto.assign=FALSE)
close_column_name <- paste(PAPER,".Close",sep="")
output <- df_intc[PAPER,]
print(output)
}
get_close_values_from_papers("VALE3.SA")
output <- df_intc[close_column_name]
get_close_values_from_papers <- function(PAPER){
df_intc <- getSymbols(PAPER,src='yahoo',auto.assign=FALSE)
close_column_name <- paste(PAPER,".Close",sep="")
output <- df_intc[close_column_name]
print(output)
}
get_close_values_from_papers("VALE3.SA")
get_close_values_from_papers <- function(PAPER){
df_intc <- getSymbols(PAPER,src='yahoo',auto.assign=FALSE)
return(df_intc)
}
get_close_values_from_papers("VALE3.SA")
a <- get_close_values_from_papers("VALE3.SA")
a[paste('VALE3.SA','.Close',sep='')]
a$VALE3.SA.Close
select(a, paste('VALE3.SA','.Close',sep=''))
#install.packages('quantmod')
#install.packages('TTR')
install.packages('tydeverse')
#install.packages('quantmod')
#install.packages('TTR')
install.packages('tidyverse')
library('tidyverse')
select(a, paste('VALE3.SA','.Close',sep=''))
select(a, c(paste('VALE3.SA','.Close',sep='')))
summary(a)
a[1:length(a$VALE3.SA.Close),c(1,4)]
a[1:length(a),c(1,4)]
a[1:length(a[1]),c(1,4)]
a <- get_close_values_from_papers("VALE3.SA")
a[paste('VALE3.SA','.Close',sep='')]
summary(a)
a[1:length(a[a$Index]),c(1,4)]
a[a$Index]
a['Close']
a['VALE3.SA']
a['VALE3.SA.Close']
a['VALE3.SA.Close']
a$VALE3.SA.Close
a[,c(1,4)]
a[,4)]
a[,4]
a$VALE3.SA.Close
a[,4]
install.packages(c("Quandl", "dygraphs", "magrittr", "PerformanceAnalytics", "quantmod"))
install.packages(c("Quandl", "dygraphs", "magrittr", "PerformanceAnalytics", "quantmod"))
library(c("Quandl", "dygraphs", "magrittr", "PerformanceAnalytics", "quantmod"))
# install.packages(c('tidyverse', 'TTR'))
# install.packages(c("Quandl", "dygraphs", "magrittr", "PerformanceAnalytics", "quantmod"))
#### Abrindo os pacotes ####
library("AER")
library("Quandl")
library('TTR')
library('quantmod')
library('tidyverse')
library("dygraphs")
library("magrittr")
library("PerformanceAnalytics")
library("quantmod")
#### Funcoes de inicializacoes -> Parte da utilitarios ####
indice_to_variation <- function(column){
results <- diff(column)/column[-length(column)]
return(results)
}
### Parte das acoes ###
a <- get_close_values_from_papers("VALE3.SA")
#### Funcoes de inicializacoes -> Parte das acoes ####
get_close_values_from_papers <- function(PAPER){
df_intc <- getSymbols(PAPER,src='yahoo',auto.assign=FALSE)
return(df_intc[,4])
}
### Parte das acoes ###
a <- get_close_values_from_papers("VALE3.SA")
b <- indice_to_variation(a[,1])
b
a[length(a)]
a[length(a)-1]
b[length(b)]
b[length(b)-1]
a[length(a)-2]
(a[length(a)-1] - a[length(a)-2]) / a[length(a)-2]
(a[length(a)-1] - a[length(a)-2]) / a[length(a)-2]
a[length(a)-1]
(a[1,length(a)-1] - a[length(a)-2]) / a[length(a)-2]
(a[length(a)-1] - a[length(a)-2]) / a[length(a)-2]
(a[length(a)-1]$VALE3.SA.Close - a[length(a)-2]$VALE3.SA.Close) / a[length(a)-2]$VALE3.SA.Close
b[length(b)-1]
b[length(b)]
a[length(a)-1]
a[length(a)-1]
a[length(a)-2]
a$VALE3.SA.Close[length(a)-1]
a[1,length(a)-1]
a[[length(a)-1]]
a[[length(a)-2]]
a[[length(a)-1]]
a[[length(a)-2]]
(a[[length(a)-1]] - a[[length(a)-2]]) / a[[length(a)-2]]
b[length(b)]
b[length(b)-1]
b[length(b)]
(a[[length(a)]] - a[[length(a)-1]]) / a[[length(a)-1]]
a <- c(1,2,4,8,16,32,64,128,256,512)
b <- indice_to_variation(a)
b
a <- c(1,2,4,8,16,32,64,128,256,1024)
b <- indice_to_variation(a)
b
a <- c(1,1.5)
b <- indice_to_variation(a)
b
a <- c(1,1.5,1.5*0.5,1.5*0.5*0.5,1.5*0.5*0.5)
b <- indice_to_variation(a)
b
a <- c(1,2,4,6,8,16,32,64,128,256,1024,2048,4096,8192,16384)
c <-
b <- indice_to_variation(a)
b
a <- c(1,2,4,8,16,32,64,128,256,1024,2048,4096,8192,16384)
c <-
b <- indice_to_variation(a)
b
a <- c(1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384)
c <-
b <- indice_to_variation(a)
b
c <- Delt(a)
c
### Parte das acoes ###
a <- get_close_values_from_papers("VALE3.SA")
c <- Delt(a)
b <- indice_to_variation(a)
b
c
tail(c)
tail(b)
c[1]
a[1]
a[2]
c[2]
b[1]
b[2]
a[1]
a[2]
b[2]
c[2]
a[2]
a[3]
b[3]
c[3]
a[3]
a[4]
b[4]
c[4]
ipca <- Quandl('BCB/433', start_date = "1996-01-01", end_date = "2017-12-31")
ipca
tail(ipca)
head(ipca)
ipca <- Quandl('BCB/433', start_date = "1996-01-01")
head(ipca)
ipca <- Quandl('BCB/433', collapse = "daily", start_date = "1996-01-01")
head(ipca)
e
#### Funcoes de inicializacoes -> Parte das acoes ####
get_close_values_from_papers <- function(PAPER){
df_intc <- getSymbols(PAPER,src='yahoo',auto.assign=FALSE)
only_close <- df_intc[,4]
names(only_close) <- "Close"
return()
}
#### Funcoes de inicializacoes -> Parte da utilitarios ####
indice_to_variation <- function(column){
results <- Delt(column)
return(results)
}
### Parte das acoes ###
a <- get_close_values_from_papers("VALE3.SA")
a
#### Funcoes de inicializacoes -> Parte das acoes ####
get_close_values_from_papers <- function(PAPER){
df_intc <- getSymbols(PAPER,src='yahoo',auto.assign=FALSE)
only_close <- df_intc[,4]
names(only_close) <- "Close"
return(only_close)
}
#### Funcoes de inicializacoes -> Parte da utilitarios ####
indice_to_variation <- function(column){
results <- Delt(column)
return(results)
}
### Parte das acoes ###
a <- get_close_values_from_papers("VALE3.SA")
a
names(a)
summary(a)
dollar <- get_close_values_from_papers("BRL=X")
dollar
head(dollar)
tail(dollar)
plot(dollar)
plot(ipca)
plot(dollar)
plot(indice_to_variation(dollar))
plot(ipca)
ggplot(ipca)
ggplot(ipca)
ggplot(ipca)
plot(dollar)
plot(ipca)
plot(dollar)
plot(ipca, type = "b",)
plot(ipca, type = "b")
abline(0)
abline(c(0)* length(ipca))
abline(v=0, col="red")
plot(ipca, type = "b")
abline(v=0, col="red")
abline(h=0, col="red")
plot(dollar)
abline(h=0, col="red")
abline(h=1, col="red")
plot(ipca, type = "b")
abline(h=1, col="red")
abline(h=0.04, col="red")
plot(dollar)
plot(ipca, type = "b")
abline(h=0.04, col="red")
plot(dollar)
tail(dollar)
header(dollar)
head(dollar)
head(dollar)
dollar <- get_close_values_from_papers("BRL=X",from= "2015-01-01")
library("zoo")
test <- c(1,2,3,4,5,6,7,8)
n(test)
library('tidyverse')
n(test)
n()
make_portfolio_return <- function(PAPERS){
portfolio <- zoo(get_close_values_from_papers(PAPERS[1]))
for (paper in PAPERS[2:length(PAPERS)]){
b <- zoo(get_close_values_from_papers(paper))
portfolio <- merge.zoo(portfolio,b)
}
}
#### Testes ####
PAPERS <- c("BBDC4.SA","BBAS3.SA","BBDC3.SA","ITUB4.SA","SANB11.SA")
portfolio <- zoo(get_close_values_from_papers(PAPERS[1]))
#### Instalando os Pacotes ####
# install.packages(c('tidyverse', 'TTR'))
# install.packages(c("Quandl", "dygraphs", "magrittr", "PerformanceAnalytics", "quantmod"))
#### Abrindo os pacotes ####
library("AER")
library("Quandl")
library('TTR')
library('quantmod')
library('tidyverse')
library("zoo")
#### Funcoes de inicializacoes -> Parte das acoes ####
get_close_values_from_papers <- function(PAPER, from='2015-01-01', to='2019-03-01'){
df_intc <- getSymbols(PAPER,src='yahoo',auto.assign=FALSE,from=from,to=to)
only_close <- df_intc[,4]
names(only_close) <- "Close"
return(only_close)
}
make_portfolio_return <- function(PAPERS){
portfolio <- zoo(get_close_values_from_papers(PAPERS[1]))
for (paper in PAPERS[2:length(PAPERS)]){
b <- zoo(get_close_values_from_papers(paper))
portfolio <- merge.zoo(portfolio,b)
}
}
#### Funcoes de inicializacoes -> Parte da utilitarios ####
indice_to_variation <- function(column){
results <- Delt(column)
return(results)
}
#### Testes ####
PAPERS <- c("BBDC4.SA","BBAS3.SA","BBDC3.SA","ITUB4.SA","SANB11.SA")
portfolio <- zoo(get_close_values_from_papers(PAPERS[1]))
for (paper in PAPERS[2:length(PAPERS)]){
b <- zoo(get_close_values_from_papers(paper))
portfolio <- merge.zoo(portfolio,b)
}
portfolio
results <- sum(portfolio)
results
results <- colSums(portfolio)
results
results <- rowSums(portfolio)
results
head(portfolio)
prices <- rowSums(portfolio)
results <- Delt(prices)
results
prices[595]
prices[596]
prices[594]
rownames(results) <- index(portfolio)
results
index(portfolio)
index(results) <- index(portfolio)
rownames(results) <- index(portfolio)
results
rownames(results)
a <- zoo(results)
a
rownames(a) <- index(portfolio)
a
index(portfolio)
portfolio
index(portfolio)
rownames(results) <- index(portfolio)
results
rownames(results) <- as.Date(index(portfolio))
results
as.Date(index(portfolio))
rownames(results)<-as.Date(rownames(results))
as.Date(rownames(results))
rownames(results)
temp_mat <- matrix(data=c(results,index(portfolio)),ncol = 2)
temp_mat
temp_mat <- matrix(data=c(results,as.Date(index(portfolio))),ncol = 2)
temp_mat
temp_mat <- data.frame(data=c(results,as.Date(index(portfolio))),ncol = 2)
temp_mat
temp_mat <- data.frame(results,index(portfolio))
temp_mat
a <- zoo(temp_mat)
a
a <- zoo(results, order.by = index(portfolio))
a
a <- zoo(results, order.by = index(portfolio))
summary(a)
make_portfolio_return <- function(PAPERS){
portfolio <- zoo(get_close_values_from_papers(PAPERS[1]))
for (paper in PAPERS[2:length(PAPERS)]){
b <- zoo(get_close_values_from_papers(paper))
portfolio <- merge.zoo(portfolio,b)
}
prices <- rowSums(portfolio)
results <- Delt(prices)
a <- zoo(results, order.by = index(portfolio))
return(a)
}
#### Testes ####
PAPERS <- c("BBDC4.SA","BBAS3.SA","BBDC3.SA","ITUB4.SA","SANB11.SA")
retorno_papes <- make_portfolio_return(PAPERS)
retorno_papes
retorno_papes
dollar
dollars
dollar
dollar <- get_close_values_from_papers("BRL=X",from="2015-01-01")
dollar
b<- zoo(dollar)
b
retorno_com_dollar <- merge.zoo(retorno_papes,dollar)
retorno_com_dollar
b <- zoo(indice_to_variation(dollar),order.by = index(dollar))
retorno_com_dollar <- merge.zoo(retorno_papes,b)
retorno_com_dollar
colnames(retorno_com_dollar)
colnames(retorno_com_dollar) <- c("retorno","dollar")
teste <- lm(retorno ~ dollar, data=retorno_com_dollar)
summary(teste)
plot(retorno_com_dollar$retorno,retorno_com_dollar$dollar)
abline(teste)
plot(retorno_com_dollar$retorno,log(retorno_com_dollar$dollar))
sel<- gbcbd_get_series (id = c(selic = 4390, inf = 0433),
first.date = '2015-01-01',
last.date ='2019-03-01',
use.memoise = FALSE)
Quandl.api_key
### Parte dos indices ###
Quandl.api_key('bjYYiH17NsT4PGCNr8G9')
#### Instalando os Pacotes ####
# install.packages(c('tidyverse', 'TTR'))
# install.packages(c("Quandl", "dygraphs", "magrittr", "PerformanceAnalytics", "quantmod"))
#### Abrindo os pacotes ####
library("AER")
library("Quandl")
library('TTR')
library('quantmod')
library('tidyverse')
library("zoo")
ipca <- Quandl('BCB/11', collapse = "daily", start_date = "1996-01-01")
ipca
selic <- Quandl('BCB/11', collapse = "daily", start_date = "1996-01-01")
selic <- Quandl('BCB/11', collapse = "daily", start_date = "2015-01-01")
selic(head)
selic <- Quandl('BCB/11', collapse = "daily", start_date = "2015-01-01")
head(selic)
tail(selic)
head(selic)
selic <- zoo(selic, order.by = Date)
selic <- zoo(selic, order.by = selic["Date"])
selic
selic <- zoo(selic$Value, order.by = selic$Date)
selic
selic <- Quandl('BCB/11', collapse = "daily", start_date = "2021-09-19")
selic <- zoo(selic$Value, order.by = selic$Date)
sum(selic)
selic <- Quandl('BCB/11', collapse = "daily", start_date = "2015-01-01")
selic <- zoo(selic$Value, order.by = selic$Date)
plot(retorno_papes,selic)
plot(retorno_papes,log(selic))
plot(retorno_papes,exp(selic))
plot(retorno_papes,selic^1/2)
plot(retorno_papes,selic^1/4)
plot(retorno_papes,selic^1/3)
plot(retorno_papes,selic^1/256)
plot(retorno_papes,selic^3/4)
plot(retorno_papes,Delt(selic))
selic <- Quandl('BCB/11', collapse = "montly", start_date = "2015-01-01")
selic <- Quandl('BCB/11', collapse = "monthly", start_date = "2015-01-01")
selic <- zoo(selic$Value, order.by = selic$Date)
selic
